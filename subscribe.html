<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Arkadeep's Portfolio</title>
    <link rel="stylesheet" href="./styles/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
</head>

<body>
    <!--add google ajax api-->
    <div class="preloader" style="width:100%;
    height:100vh;background:#fff;position:fixed;
    top:0;left:0;
    z-index:3000;display:flex;
    align-items:center;justify-content:center;">

        <h1 style="font-size:0.9rem;font-family:sans-serif">Loading Please Wait ...</h1>

    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <div class="image-subscribe">
        <img src="https://cdn.dribbble.com/users/548267/screenshots/10288685/media/7268be551278859a373ebc661a39daad.jpg" alt="subscribe">
    </div>
    <!--create a form-->
    <div class="formContainer">
        <h1>Subscribe to Arkadeep's code newsletters</h1>
        <form action="" method="post">
            <input type="text" name="email" placeholder="Enter your email" id="email">
            <button id="send">Subscribe</button>
        </form>
        <h2>Benifits of subscribing to Arkadeep's code newsletter</h2>
        <ol>
            <li>Get updates on new projects</li>
            <li>Get updates on new blog posts</li>
            <li>Get updates on new social media posts</li>
            <li>Get Updates on how to improve your coding skills</li>
            <li>Get updates on new coding topics</li>
        </ol>
    </div>
    <script>
        window.onload = function() {
            document.querySelector('.preloader').remove();
        }
        if (localStorage.getItem('subscribed') == 'true') {
            document.querySelector('.formContainer').remove();
            var newContainer = document.createElement('div');
            newContainer.classList.add('subscribed');
            document.body.appendChild(newContainer);
            var newElement = document.createElement('h1');
            newElement.innerHTML = 'You have already to Arkadeep\'s code newsletters';
            var newBtn = document.createElement('button');
            newBtn.innerHTML = 'Go Back';
            newBtn.addEventListener('click', function() {
                window.location.href = './index.html';
            });

            document.querySelector('.subscribed').appendChild(newElement);
            document.querySelector('.subscribed').appendChild(newBtn);
        } else {

        }

        function hello() {
            document.querySelector('.formContainer').remove();
            var newContainer = document.createElement('div');
            newContainer.classList.add('subscribed');
            document.body.appendChild(newContainer);
            var newElement = document.createElement('h1');
            newElement.innerHTML = 'You have successfully subscribed to our newsletters';



            document.querySelector('.subscribed').appendChild(newElement);

            setTimeout(function() {
                window.location.href = './index.html';
            }, 1000);

        }
    </script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-app.js"; import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-analytics.js"; import { getFirestore, setDoc, doc, collection } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore.js";
        const firebaseConfig = { apiKey: "AIzaSyDK6waTmws_Fr5lpxNBw31GXkkCFtH83lo", authDomain: "arkadeep-nag.firebaseapp.com", databaseURL: "https://arkadeep-nag-default-rtdb.firebaseio.com", projectId: "arkadeep-nag", storageBucket: "arkadeep-nag.appspot.com",
        messagingSenderId: "744347482829", appId: "1:744347482829:web:2820441debb2d3427c4784", measurementId: "G-2BNJ9CK1MX" }; const app = initializeApp(firebaseConfig); const analytics = getAnalytics(app); const db = getFirestore(app); document.querySelector('#send').addEventListener('click',
        (e) => { e.preventDefault(); const email = document.querySelector('#email').value; if (email) { setDoc(doc(db, 'subscribers', email), { email: email }).then(() => { localStorage.setItem('subscribed', 'true'); hello(); }).catch(err => { alert(err);
        }) } })
    </script>

</body>

</html>